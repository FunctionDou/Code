**18-3-7**

​		**sleep不是慢速系统为什么会被重启, 自动重启不是重启慢速系统吗?**

> ### 慢速系统
>
> 可以认为，只要**可能**导致 I/O **永远** 阻塞的，就是慢速系统调用
>
> 按照定义，pause 函数是慢速的，而 sleep 不是（仔细体会）。
>
> ### 自动重启
>
> 有些慢速系统调用，被信号中断后，本应该返回错误的，但是通过开启 struct sigaction 成员 sa_flags 的 SA_RESTART 选项，这些慢速系统调用就不会返回错误，而是重新执行一次！！！
>
> 如果你使用了 signal 信号注册函数，SA_RESTART 选项默认就是开启的（大多数时候，我们并不希望开启此选项）。

解决 : 

> <font color=#b20>**`sleep(3)`，要单独挑出来打一顿，它不支持自动重启，但是被信号中断了它能够成功返回剩余时间的秒数**, 所以当信号中断的时侯, write函数会重启, 但是sleep()函数不会重启, 但是他会继续因为write函数的重启而重新执行.</font>